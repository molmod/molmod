
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Internals of the MolMod package &#8212; MolMod 1.4.8 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Algorithms" href="algo.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="algo.html" title="Algorithms"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MolMod 1.4.8 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="internals-of-the-molmod-package">
<h1>Internals of the MolMod package<a class="headerlink" href="#internals-of-the-molmod-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-molmod.utils">
<span id="molmod-utils-read-only-objects-and-cached-attributes"></span><h2><a class="reference internal" href="#module-molmod.utils" title="molmod.utils"><code class="xref py py-mod docutils literal notranslate"><span class="pre">molmod.utils</span></code></a> – Read-only objects and cached attributes<a class="headerlink" href="#module-molmod.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="molmod.utils.cached">
<em class="property">class </em><code class="descclassname">molmod.utils.</code><code class="descname">cached</code><span class="sig-paren">(</span><em>fn</em><span class="sig-paren">)</span><a class="headerlink" href="#molmod.utils.cached" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that will turn a method into a caching descriptor</p>
<p>When an attribute is requested for the first time, the original method
will be called and its return value is cached. Subsequent access to the
attribute will just return the cached value.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="nd">@cached</span>
    <span class="k">def</span> <span class="nf">some_property</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">*</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span>
</pre></div>
</div>
<p>There are a few limitations on the <code class="docutils literal notranslate"><span class="pre">cached</span></code> decorator. Once the result
is computed and cached, it can not be erased. This means that the values
on which the result depends have to be read-only parameters that can not
be changed afterwards. This is facilitated by deriving from the
<a class="reference internal" href="#molmod.utils.ReadOnly" title="molmod.utils.ReadOnly"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReadOnly</span></code></a> object. See <a class="reference internal" href="basic.html#molmod.molecules.Molecule" title="molmod.molecules.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">molmod.molecules.Molecule</span></code></a> for an
example.</p>
</dd></dl>

<dl class="class">
<dt id="molmod.utils.ReadOnly">
<em class="property">class </em><code class="descclassname">molmod.utils.</code><code class="descname">ReadOnly</code><a class="headerlink" href="#molmod.utils.ReadOnly" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for read-only objects</p>
<p>An object that has nothing but read-only attributes. If an attribute is
not assigned yet, it is writable. Some attributes are cached, i.e. they
are computed from other attributes upon request.</p>
<p>If you want to modify a ReadOnly object, just create a modified one from
scratch. This is greatly facilitated by the method <a class="reference internal" href="#molmod.utils.ReadOnly.copy_with" title="molmod.utils.ReadOnly.copy_with"><code class="xref py py-meth docutils literal notranslate"><span class="pre">copy_with()</span></code></a>.</p>
<dl class="method">
<dt id="molmod.utils.ReadOnly.copy_with">
<code class="descname">copy_with</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#molmod.utils.ReadOnly.copy_with" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy with (a few) changed attributes</p>
<p>The keyword arguments are the attributes to be replaced by new
values. All other attributes are copied (or referenced) from the
original object. This only works if the constructor takes all
(read-only) attributes as arguments.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Internals of the MolMod package</a><ul>
<li><a class="reference internal" href="#module-molmod.utils"><code class="docutils literal notranslate"><span class="pre">molmod.utils</span></code> – Read-only objects and cached attributes</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="algo.html"
                        title="previous chapter">Algorithms</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/reference/internals.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="algo.html" title="Algorithms"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">MolMod 1.4.8 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010, Toon Verstraelen.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.5.
    </div>
  </body>
</html>